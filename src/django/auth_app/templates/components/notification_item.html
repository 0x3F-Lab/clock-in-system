<div class="list-group-item list-group-item-action flex-column align-items-start p-3 {{ bg_class }}"
     id="notif-{{ n.id }}"
     data-bs-toggle="collapse"
     data-bs-target="#notif-info-{{ n.id }}"
     aria-expanded="false"
     aria-controls="notif-info-{{ n.id }}"
     style="cursor: pointer;">
  
  <div class="d-flex w-100 justify-content-between align-items-start">
    <div>
      <h5 class="mb-1">
        <span class="badge {{ badge_class }} me-2">{{ type_label }}</span>
        {{ n.title|safe }}
      </h5>
      <small class="text-muted">From: {% if type == "sent" %}You{% else %}{{ n.sender }}{% endif %}</small>
    </div>

    <div class="text-end d-flex flex-column align-items-end">
      <small class="text-muted">{{ n.created_at|date:"M j, Y g:i A" }}</small>
      {% if type == "unread" %}
      <button class="mark-as-read btn btn-sm btn-outline-success mt-1 d-none"
              data-id="{{ n.id }}">
        <i class="fas fa-check-circle me-1"></i> Mark as Read
      </button>
      {% endif %}
    </div>
  </div>

  <div class="collapse mt-3" id="notif-info-{{ n.id }}">
    <div class="card card-body bg-light text-dark">
      {{ n.message|safe }}
      <hr>
      <p class="mb-1"><strong>Expires:</strong> {{ n.expires_on|date:"M j, Y" }}</p>
      <p class="mb-0"><strong>Sent To:</strong> {{ n.receiver|safe }}</p>
    </div>
  </div>
</div>